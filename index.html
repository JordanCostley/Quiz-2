<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Jordan Costley | Quiz 2</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="main.css">
</head>
<body>
    <div id="shell">
        <h2>List Builder And Tax Calculator</h2>
        <div id="mainSection">
            <div id="inputSection">
                <div id="inputBox">
                    <input id="itemName" type="text" name="" placeholder="Item Name">
                    <input id="itemPrice" type="number" name="" placeholder="0.00">
                    <button type="button" name="itemAdd" onclick="itemAdd()">Add Item</button>
                    <h1>Item:</h1>
                    <h1>Price:</h1>
                <div id="itemsBox">
                    <p id="resultItems"></p>
                </div>
                <div id="priceBox">                    
                    <p id="resultPrices"></p>
                </div>
                <div id="totalButton">
                    <button type="button" name="itemTotals" onclick="totalItems()">Total Up Items</button>
                </div>
                </div>
            </div>
            <div id="resultSection">
                <h1 id="totalTitle">Total Price:</h1>                
                <h3 id="totalPrice"></h3>
            </div>
        </div>
    </div>
</body>
<script type="text/javascript">
    // Arrays for input storage
    var items = [];
    var prices = [];

    // Function to pull items from input and put into arrays
    function itemAdd(){
        var itemN = document.getElementById('itemName').value;
        var itemP = parseFloat(document.getElementById('itemPrice').value);

        var itemFull = {itemName:itemN,itemPrice:itemP};

        if (itemN === '' || itemP === '') {
            alert("Please fill all fields")
        }
        else {        
        items.push(itemFull);
        prices.push(itemP);
        displayItem(items);
        console.log(prices)
        }
    }

     function displayItem(itemsArray){
        document.getElementById('resultItems').innerHTML = " ";
        document.getElementById('resultPrices').innerHTML = " ";
        for(i=0;i<itemsArray.length;i++){
            document.getElementById('resultItems').innerHTML += itemsArray[i].itemName + "<br>";
            document.getElementById('resultPrices').innerHTML += "$" +  itemsArray[i].itemPrice + "<br>";
            console.log(items)
        }
        document.getElementById('itemName').value = " ";
        document.getElementById('itemPrice').value = " ";
    }
      
    var tax;
    tax = .06;

    // Totals prices by pulling from array and then adding them up plus adding tax using loop.

function calculateAllPricesWithTax(priceArray,tax)
    {
        var priceTally = 0;
        for(i=0;i<priceArray.length;i++)
        {
          if(priceArray[i]>=3)
          {
              priceTally += priceArray[i];
          }
        }
        priceTally *= (1+tax);
        document.getElementById("totalPrice").innerHTML = "$" + priceTally.toFixed(2);
        return priceTally;
         
    }
    function totalItems(){
    calculateAllPricesWithTax(prices,tax);    
    }
    
        // Totals prices by pulling from array and then adding them up plus adding tax using reduce.

/*function getSum(total, num) {
  return total + num;
}
function totalItems(item) {
  document.getElementById("totalPrice").innerHTML = "$" + (prices.reduce(getSum) * .06 + prices.reduce(getSum)).toFixed(2);
}
*/

</script>
</html>